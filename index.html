<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VentureScope | Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="assets/ai_library_icon.svg">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            color: #E5E5E5;
        }

        h1,
        h2,
        h3,
        .font-display {
            font-family: 'Space Grotesk', sans-serif;
        }

        /* Ambient Background */
        .ambient-light {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 15% 50%, rgba(76, 29, 149, 0.08), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(6, 95, 70, 0.08), transparent 25%);
            z-index: -1;
            pointer-events: none;
        }

        /* Glass Cards */
        .dashboard-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            transition: all 0.2s ease-out;
        }

        .dashboard-card:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        /* Subtle grid pattern */
        .bg-grid {
            background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            position: fixed;
            inset: 0;
            z-index: -2;
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }
    </style>
</head>

<body class="min-h-screen text-stone-300">

    <div class="ambient-light"></div>
    <div class="bg-grid"></div>

    <!-- Header -->
    <header class="pt-16 pb-12 px-6 max-w-7xl mx-auto">
        <div class="flex items-center gap-3 mb-2">
            <div
                class="w-8 h-8 rounded-full bg-gradient-to-tr from-white-500 to-white-500 flex items-center justify-center shadow-lg white-500/20">
                <img src="assets/ai_library_icon.svg" alt="Logo" class="w-5 h-5 opacity-90 brightness-200">
            </div>
            <span class="text-sm font-mono text-stone-500 tracking-widest">v2.5.0</span>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">VentureScope Hub</h1>
        <p class="text-stone-500 mt-2 text-lg max-w-2xl">
            Command center for your agentic workflows and market intelligence.
        </p>
    </header>

    <!-- Main Content -->
    <main class="px-6 pb-20 max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">

        <!-- Column 1: Intelligence -->
        <section>
            <div class="flex items-center gap-3 mb-6">
                <div class="w-2 h-8 rounded-full bg-indigo-500"></div>
                <h2 class="text-2xl font-bold text-white">AI Intelligence</h2>
            </div>

            <div class="space-y-4">
                <!-- Card: Market Scope -->
                <a href="apps/market_scope.html" class="dashboard-card block rounded-xl p-5 group">
                    <div class="flex justify-between items-start mb-3">
                        <div
                            class="p-2 rounded-lg bg-indigo-500/10 text-indigo-400 group-hover:bg-indigo-500/20 transition-colors">
                            <i class="ph-fill ph-binoculars text-xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-right text-stone-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <h3 class="text-lg font-bold text-white group-hover:text-indigo-300 transition-colors">Market Scope
                    </h3>
                    <p class="text-sm text-stone-500 mt-1">Real-time signal detection from social media noise.</p>
                </a>
            </div>
        </section>

        <!-- Column 2: Learning -->
        <section>
            <div class="flex items-center gap-3 mb-6">
                <div class="w-2 h-8 rounded-full bg-emerald-500"></div>
                <h2 class="text-2xl font-bold text-white">Learning Path</h2>
            </div>

            <div class="space-y-4">
                <!-- Card: Roadmap -->
                <a href="apps/roadmap.html" class="dashboard-card block rounded-xl p-5 group">
                    <div class="flex justify-between items-start mb-3">
                        <div
                            class="p-2 rounded-lg bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors">
                            <i class="ph-fill ph-path text-xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-right text-stone-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <h3 class="text-lg font-bold text-white group-hover:text-emerald-300 transition-colors">Engineer
                        Roadmap</h3>
                    <p class="text-sm text-stone-500 mt-1">45-Day curriculum for Agentic AI architecture.</p>
                </a>

                <!-- Card: ExplainScope -->
                <a href="apps/explain_scope.html" class="dashboard-card block rounded-xl p-5 group">
                    <div class="flex justify-between items-start mb-3">
                        <div
                            class="p-2 rounded-lg bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors">
                            <i class="ph-fill ph-traffic-signal text-xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-right text-stone-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <h3 class="text-lg font-bold text-white group-hover:text-emerald-300 transition-colors">ExplainScope
                    </h3>
                    <p class="text-sm text-stone-500 mt-1">Deep dive into API Rate Limiting & Traffic Control.</p>
                </a>

                <!-- Card: AWS EC2 -->
                <a href="apps/aws_EC2.html" class="dashboard-card block rounded-xl p-5 group">
                    <div class="flex justify-between items-start mb-3">
                        <div
                            class="p-2 rounded-lg bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors">
                            <i class="ph-fill ph-cloud text-xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-right text-stone-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <h3 class="text-lg font-bold text-white group-hover:text-emerald-300 transition-colors">AWS EC2
                        Guide
                    </h3>
                    <p class="text-sm text-stone-500 mt-1">Interactive infographic guide to Amazon EC2.</p>
                </a>
            </div>
        </section>

        <!-- Column 3: Tools -->
        <section>
            <div class="flex items-center gap-3 mb-6">
                <div class="w-2 h-8 rounded-full bg-stone-500"></div>
                <h2 class="text-2xl font-bold text-white">Developer Tools</h2>
            </div>

            <div class="space-y-4">
                <!-- Card: Config -->
                <button onclick="openApiModal()" class="w-full text-left dashboard-card block rounded-xl p-5 group">
                    <div class="flex justify-between items-start mb-3">
                        <div
                            class="p-2 rounded-lg bg-stone-800 text-stone-400 group-hover:bg-stone-700 transition-colors">
                            <i class="ph-fill ph-gear text-xl"></i>
                        </div>
                        <div id="statusDot"
                            class="w-2 h-2 rounded-full bg-red-500 mt-2 shadow-[0_0_8px_rgba(239,68,68,0.5)]"></div>
                    </div>
                    <h3 class="text-lg font-bold text-white group-hover:text-stone-300 transition-colors">System Config
                    </h3>
                    <p class="text-sm text-stone-500 mt-1">Manage Gemini API Keys & Secrets.</p>
                </button>

                <!-- Card: Legacy -->
                <a href="apps/legacy_hub.html"
                    class="dashboard-card block rounded-xl p-5 group border-stone-800 bg-black/20">
                    <div class="flex justify-between items-start mb-3">
                        <div
                            class="p-2 rounded-lg bg-stone-900 text-stone-600 group-hover:text-stone-400 transition-colors">
                            <i class="ph-fill ph-archive text-xl"></i>
                        </div>
                        <i
                            class="ph-bold ph-arrow-right text-stone-700 group-hover:text-stone-500 transition-colors"></i>
                    </div>
                    <h3 class="text-lg font-bold text-stone-400 group-hover:text-stone-300 transition-colors">Legacy Hub
                    </h3>
                    <p class="text-sm text-stone-600 mt-1">Access previous dashboard version.</p>
                </a>
            </div>
        </section>

    </main>

    <!-- API Modal -->
    <div id="apiModal"
        class="fixed inset-0 z-[100] hidden backdrop-blur-md bg-black/80 flex items-center justify-center opacity-0 transition-opacity duration-300">
        <div class="bg-[#111] border border-stone-800 rounded-2xl p-8 w-full max-w-md shadow-2xl transform scale-95 transition-transform duration-300"
            id="apiModalContent">
            <div class="text-center mb-6">
                <div
                    class="w-12 h-12 rounded-full bg-indigo-500/10 border border-indigo-500/20 flex items-center justify-center mx-auto mb-4">
                    <i class="ph-fill ph-key text-indigo-400 text-xl"></i>
                </div>
                <h3 class="text-xl font-bold text-white">Security Protocol</h3>
                <p class="text-stone-500 text-sm mt-1">Configure your Gemini API Access</p>
            </div>

            <div class="space-y-4">
                <div>
                    <input type="password" id="apiKeyInput"
                        class="w-full bg-black border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all font-mono text-sm"
                        placeholder="sk-...">
                </div>

                <div class="flex gap-3">
                    <button onclick="saveKey()"
                        class="flex-1 bg-white text-black font-semibold rounded-xl py-2.5 hover:bg-stone-200 transition-colors">
                        Connect
                    </button>
                    <button onclick="clearKey()"
                        class="px-4 border border-red-900/30 text-red-500 bg-red-900/10 rounded-xl hover:bg-red-900/20 transition-colors">
                        Revoke
                    </button>
                </div>
            </div>

            <button onclick="closeApiModal()"
                class="absolute top-4 right-4 text-stone-600 hover:text-white transition-colors">
                <i class="ph-bold ph-x"></i>
            </button>
        </div>
    </div>


    <script>
        // --- Encryption Logic ---
        const ENCRYPTION_SECRET = "VentureScope_Gemini_Secret_Salt_v1";
        const STORAGE_KEY = 'gemini_api_key';

        function encryptData(text) {
            try {
                let result = "";
                for (let i = 0; i < text.length; i++) {
                    result += String.fromCharCode(text.charCodeAt(i) ^ ENCRYPTION_SECRET.charCodeAt(i % ENCRYPTION_SECRET.length));
                }
                return btoa(result);
            } catch (e) { return ""; }
        }

        function decryptData(ciphertext) {
            try {
                const text = atob(ciphertext);
                let result = "";
                for (let i = 0; i < text.length; i++) {
                    result += String.fromCharCode(text.charCodeAt(i) ^ ENCRYPTION_SECRET.charCodeAt(i % ENCRYPTION_SECRET.length));
                }
                return result;
            } catch (e) { return ""; }
        }

        function checkKeyStatus() {
            const encrypted = localStorage.getItem(STORAGE_KEY);
            const dot = document.getElementById('statusDot');

            if (encrypted && decryptData(encrypted).length > 5) {
                dot.className = "w-2 h-2 rounded-full bg-emerald-500 mt-2 shadow-[0_0_8px_rgba(16,185,129,0.5)]";
            } else {
                dot.className = "w-2 h-2 rounded-full bg-red-500 mt-2 shadow-[0_0_8px_rgba(239,68,68,0.5)]";
            }
        }

        // --- Modal ---
        const modal = document.getElementById('apiModal');
        const modalContent = document.getElementById('apiModalContent');

        function openApiModal() {
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
            }, 10);
        }

        function closeApiModal() {
            modal.classList.add('opacity-0');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function saveKey() {
            const val = document.getElementById('apiKeyInput').value.trim();
            if (val) {
                localStorage.setItem(STORAGE_KEY, encryptData(val));
                checkKeyStatus();
                closeApiModal();
                document.getElementById('apiKeyInput').value = '';
            }
        }

        function clearKey() {
            localStorage.removeItem(STORAGE_KEY);
            checkKeyStatus();
            closeApiModal();
        }

        document.addEventListener('DOMContentLoaded', checkKeyStatus);

    </script>
</body>

</html>